(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{204:function(t,e,r){var content=r(205);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(83).default)("bb35a8d6",content,!0,{sourceMap:!1})},205:function(t,e,r){(e=r(82)(!1)).push([t.i,".theme--light.v-footer{background-color:#f5f5f5;color:rgba(0,0,0,.87)}.theme--dark.v-footer{background-color:#272727;color:#fff}.v-sheet.v-footer{border-radius:0}.v-sheet.v-footer:not(.v-sheet--outlined){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-sheet.v-footer.v-sheet--shaped{border-radius:24px 0}.v-footer{align-items:center;display:flex;flex:0 1 auto!important;flex-wrap:wrap;padding:6px 16px;position:relative;transition-duration:.2s;transition-property:background-color,left,right;transition-timing-function:cubic-bezier(.4,0,.2,1)}.v-footer:not([data-booted=true]){transition:none!important}.v-footer--absolute,.v-footer--fixed{z-index:3}.v-footer--absolute{position:absolute}.v-footer--absolute:not(.v-footer--inset){width:100%}.v-footer--fixed{position:fixed}.v-footer--padless{padding:0}",""]),t.exports=e},206:function(t,e,r){"use strict";r.r(e);var o={name:"Footer"},n=r(50),c=r(196),l=r.n(c),d=(r(53),r(27),r(19),r(5),r(39),r(197),r(20)),f=(r(130),r(204),r(198)),h=r(203),v=r(199),m=r(187),x=r(9);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(d.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _=Object(m.a)(f.a,Object(h.a)("footer",["height","inset"]),v.a).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return O(O({},f.a.options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return O(O({},f.a.options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(x.f)(t),left:Object(x.f)(this.computedLeft),right:Object(x.f)(this.computedRight),bottom:Object(x.f)(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var data=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,data,this.$slots.default)}}),component=Object(n.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{attrs:{app:""}},[e("span",[this._v("© Online Study Room "+this._s((new Date).getFullYear()))])])}),[],!1,null,"c1964e4c",null);e.default=component.exports;l()(component,{VFooter:_})},208:function(t,e,r){"use strict";r(25),r(12),r(13),r(5),r(132),r(55);var o=r(7),n=r(209),c={c:function(t){console.log(t)},onAuthStateChanged:function(t){n.a.auth().onAuthStateChanged(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=11;break}return t.$store.commit("user/setMailAddress",r.email),t.$store.commit("user/setUserId",r.uid),t.$store.commit("user/setProviderId",r.providerData[0].providerId),console.log("User is signed in."),t.$store.commit("setSignInState",!0),e.next=8,c.getUserData(t);case 8:n.a.auth().currentUser.getIdToken(!0).then((function(e){t.$store.commit("user/setIdToken",e)})).catch((function(t){console.error(t)})),e.next=13;break;case 11:console.log("User is signed out."),t.$store.commit("signOut");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}};c.getUserData=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,o,n,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URL("https://us-central1-online-study-room-f1f30.cloudfunctions.net/UserStatus"),o={user_id:e.$store.state.user.user_id},r.search=new URLSearchParams(o).toString(),t.next=5,fetch(r.toString(),{method:"GET"});case 5:return n=t.sent,t.next=8,n.json();case 8:"ok"!==(c=t.sent).result?console.log(c):(l=c.user_status.user_body,e.$store.commit("user/setUserName",l.name),e.$store.commit("user/setStatusMessage",l.status),e.$store.commit("user/setRegistrationDate",new Date(l.registration_date)),e.$store.commit("user/setLastEntered",new Date(l.last_entered)));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.a=c},235:function(t,e,r){"use strict";r(53),r(27),r(19),r(5),r(39);var o=r(20),n=(r(236),r(188));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=n.a.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:l({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:l({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})},236:function(t,e,r){var content=r(237);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(83).default)("7132a15d",content,!0,{sourceMap:!1})},237:function(t,e,r){(e=r(82)(!1)).push([t.i,".theme--light.v-divider{border-color:rgba(0,0,0,.12)}.theme--dark.v-divider{border-color:hsla(0,0%,100%,.12)}.v-divider{display:block;flex:1 1 0px;max-width:100%;height:0;max-height:0;border:solid;border-width:thin 0 0;transition:inherit}.v-divider--inset:not(.v-divider--vertical){max-width:calc(100% - 72px)}.v-application--is-ltr .v-divider--inset:not(.v-divider--vertical){margin-left:72px}.v-application--is-rtl .v-divider--inset:not(.v-divider--vertical){margin-right:72px}.v-divider--vertical{align-self:stretch;border:solid;border-width:0 thin 0 0;display:inline-flex;height:inherit;min-height:100%;max-height:100%;max-width:0;width:0;vertical-align:text-bottom}.v-divider--vertical.v-divider--inset{margin-top:8px;min-height:0;max-height:calc(100% - 16px)}",""]),t.exports=e},239:function(t,e,r){"use strict";r(53),r(27),r(19),r(5),r(39);var o=r(20),n=(r(240),r(188)),c=r(187);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(c.a)(n.a).extend({name:"v-subheader",props:{inset:Boolean},render:function(t){return t("div",{staticClass:"v-subheader",class:d({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},240:function(t,e,r){var content=r(241);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(83).default)("e8b41e5e",content,!0,{sourceMap:!1})},241:function(t,e,r){(e=r(82)(!1)).push([t.i,".theme--light.v-subheader{color:rgba(0,0,0,.6)}.theme--dark.v-subheader{color:hsla(0,0%,100%,.7)}.v-subheader{align-items:center;display:flex;height:48px;font-size:.875rem;font-weight:400;padding:0 16px}.v-subheader--inset{margin-left:56px}",""]),t.exports=e},303:function(t,e,r){"use strict";r(56),r(19),r(5),r(39),r(226),r(213);var o=r(227),n=r(194);e.a=Object(o.a)("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var r,o=e.props,data=e.data,c=e.children,l=data.attrs;return l&&(data.attrs={},r=Object.keys(l).filter((function(t){if("slot"===t)return!1;var e=l[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}))),o.id&&(data.domProps=data.domProps||{},data.domProps.id=o.id),t(o.tag,Object(n.a)(data,{staticClass:"container",class:Array({"container--fluid":o.fluid}).concat(r||[])}),c)}})},367:function(t,e,r){"use strict";r.r(e);r(45),r(54),r(12),r(13),r(5),r(132),r(55);var o=r(7),n=r(208),c={name:"room",mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.a.onAuthStateChanged(t),!t.$store.state.isSignedIn){e.next=22;break}return o=(r=t).$store.state.room_id,(c=new URL("https://us-central1-online-study-room-f1f30.cloudfunctions.net/RoomStatus")).search=new URLSearchParams({room_id:o}),e.next=8,fetch(c.toString(),{method:"GET"}).then((function(t){return t.json()}));case 8:if("ok"!==(l=e.sent).result){e.next=15;break}if(l.room_status.room_body.users.includes(r.$store.state.user.user_id)){e.next=15;break}return e.next=14,t.$router.push("/");case 14:return e.abrupt("return");case 15:return t.room_status=l,e.next=18,n.a.getUserData(t);case 18:(d=t.$store.state.user.last_entered)&&(t.entered_time=d.getHours()+"時"+d.getMinutes()+"分"),e.next=24;break;case 22:return e.next=24,t.$router.push("/");case 24:case"end":return e.stop()}}),e)})))()},data:function(){return{room_name:null,entered_time:null,room_status:null,if_show_dialog:!1,exiting:!1}},methods:{exitRoom:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.exiting=!0,r=t,"https://us-central1-online-study-room-f1f30.cloudfunctions.net/ExitRoom",o=new URLSearchParams({user_id:r.$store.state.user.user_id,room_id:r.$store.state.room_id,id_token:r.$store.state.user.id_token}),e.next=6,fetch("https://us-central1-online-study-room-f1f30.cloudfunctions.net/ExitRoom",{method:"POST",body:o}).then((function(t){return t.json()}));case 6:if("ok"!==(n=e.sent).result){e.next=13;break}return t.$store.commit("setRoomId",null),e.next=11,t.$router.push("/");case 11:e.next=15;break;case 13:console.log("Failed to exit room."),console.log(n);case 15:t.exiting=!1,t.if_show_dialog=!1;case 17:case"end":return e.stop()}}),e)})))()}}},l=r(50),d=r(196),f=r.n(d),h=r(357),v=r(368),m=r(351),x=r(251),y=r(191),O=r(303),_=r(359),w=r(235),j=r(250),k=r(361),P=r(257),$=r(232),S=r(362),R=r(363),D=r(239),V=r(215),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",flat:""}},[r("v-btn",{attrs:{icon:""},on:{click:function(e){t.if_show_dialog=!0}}},[r("v-icon",[t._v("mdi-close")])],1),t._v(" "),r("v-dialog",{attrs:{width:"500"},model:{value:t.if_show_dialog,callback:function(e){t.if_show_dialog=e},expression:"if_show_dialog"}},[r("v-card",{attrs:{loading:t.exiting}},[r("v-card-title",[t._v("部屋を出ますか？")]),t._v(" "),r("v-card-actions",[r("v-row",{attrs:{justify:"end"}},[r("v-btn",{attrs:{disabled:t.exiting,text:"",color:"primary"},on:{click:t.exitRoom}},[t._v("退室する")]),t._v(" "),r("v-btn",{attrs:{disabled:t.exiting,text:""},on:{click:function(e){t.if_show_dialog=!1}}},[t._v("キャンセル")])],1)],1)],1)],1),t._v(" "),r("v-layout",{attrs:{"justify-center":""}},[r("v-toolbar-title",[t._v(t._s(t.room_name)+" 部屋")])],1)],1),t._v(" "),r("v-main",[r("v-list",{attrs:{subheader:""}},[r("v-list-item",[r("v-layout",{attrs:{"justify-center":""}},[t._v("\n            入室時刻："+t._s(t.entered_time)+"\n          ")])],1),t._v(" "),r("v-divider",{attrs:{inset:""}}),t._v(" "),r("v-subheader",[t._v("同じ部屋の他のユーザー")]),t._v(" "),r("v-list-item",[r("v-container")],1)],1)],1),t._v(" "),r("Footer")],1)}),[],!1,null,"46614372",null);e.default=component.exports;f()(component,{Footer:r(206).default}),f()(component,{VApp:h.a,VAppBar:v.a,VBtn:m.a,VCard:x.a,VCardActions:y.a,VCardTitle:y.b,VContainer:O.a,VDialog:_.a,VDivider:w.a,VIcon:j.a,VLayout:k.a,VList:P.a,VListItem:$.a,VMain:S.a,VRow:R.a,VSubheader:D.a,VToolbarTitle:V.a})}}]);